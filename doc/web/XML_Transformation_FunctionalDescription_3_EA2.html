<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.76 [en] (Windows NT 5.0; U) [Netscape]">
   <title>XML Transformation Tags -- Functional Description</title>
<style media="screen" type="text/css"><!--
.fixme { color: red }
--></style>
</head>
<body bgcolor="#FFFFFF">
<h3>

  <hr width="100%" noshade>
</h3>

<h2> XML Transformation Tags &#151; Functional Description <br>
</h2>

<h2> <tt>&lt;x:transform><br>
  &lt;x:param&gt; </tt><tt><br>
  </tt><tt>&lt;x:transformer&gt;<br>
  </tt></h2>
<hr width="100%" noshade>
<h3>1. &lt;transform&gt;</h3>
<p>The &lt;transform&gt; tag applies a transformation to an XML document (attribute 
  &quot;source&quot;), given a specific XSLT stylesheet (attribute &quot;xslt&quot;). 
  If the source attribute is not specified, the input XML document is read from the 
  tag's body content. </p>
<p>In the example below, the XML document to be transformed is retrieved from 
  an http request, while the XSLT stylesheet for the transformation is a webapp 
  resource. The result of the transformation is written to the page.</p>
<pre>&nbsp; &lt;c:import url=&quot;http://acme.com/customers?country=usa&quot; var=&quot;xml&quot;/>
&nbsp; &lt;c:import url=&quot;/WEB-INF/xslt/customerList.xsl&quot; var=&quot;xslt&quot;/><br>&nbsp;&nbsp;&lt;x:transform source=&quot;$xml&quot; xslt=&quot;$xslt&quot;/&gt;</pre>
<p>The source and xslt attributes are objects of any of the following types: java.lang.String, 
  java.io.Reader, or javax.xml.transform.Source.</p>
<p>As seen in the example above, the result of the transformation is written to 
  the page by default. It is also possible to capture the result of the transformation 
  in two other ways:</p>
<ul>
  <li>into a javax.xml.transform.Result object specified via attribute &quot;result&quot; 
    (object to be provided by page author)</li>
  <li>into a org.w3c.dom.Document object, that will be stored in the JSP scope 
    attribute specified by &quot;var&quot;. </li>
</ul>
<p>&quot;var&quot; and &quot;result&quot; are mutually exclusive. What's interesting 
  with the &quot;var&quot; attribute is that the exported document can be used 
  directly with the other xml tags. For example:</p>
<blockquote> 
  <p><code>&lt;x:transform source=&quot;...&quot; xslt=&quot;..&quot; var=&quot;doc/&gt;<br>
    &lt;x:expr select=&quot;$doc/...&quot;/&gt;</code></p>
</blockquote>
<p>The &lt;transform&gt; action also supports attribute &quot;transformer&quot; 
  described in section 3 (&lt;transformer&gt;) below.</p>
<h3>2. &lt;param&gt;</h3>
<p>The &lt;param&gt; subtag can be used along with &lt;transform&gt; to set transformation 
  parameters. Attributes 'name' and 'value' are used to specify the parameter. 
  The value attribute is optional. If it is not specified the value is retrieved 
  from the tag's body.</p>
<p>For example:</p>
<pre>&nbsp;&nbsp;&lt;x:transform source=&quot;$xml&quot; xslt=&quot;$xslt&quot;&gt;<br>    &lt;x:param name=&quot;foo&quot; value=&quot;foo-value&quot;/&gt;<br>  &lt;/x:transform&gt;</pre>
<h3>3. &lt;transformer&gt;</h3>
<p>It is sometimes the case that the same stylesheet transformation needs to be 
  applied multiple times to different source XML documents. A more efficient approach 
  is to process the transformation stylesheet once, and then save this &quot;transformer&quot; 
  object for successive transformations.</p>
<p>As shown in the example below, the &lt;transformer&gt; tag can be used in collaboration 
  with the transformer attribute of &lt;transform&gt; to efficiently reuse a transformation 
  stylesheet.</p>
<pre>  &lt;c:import url=&quot;/xslt/style.xsl&quot; var=&quot;xslt&quot;/&gt;<br>  &lt;x:transformer xslt=&quot;$xslt&quot; var=&quot;transformer&quot;/&gt;<br>  &lt;c:forEach items=&quot;$xmlDocs&quot; var=&quot;xml&quot;&gt;<br>    ...<br>    &lt;x:transform source=&quot;$xml&quot; transformer=&quot;$transformer&quot; /&gt;<br>    ...<br>  &lt;/c:forEach&gt;</pre>
The attribute xslt is optional. If not specified, the stylesheet is read from 
the tag's body content. 
<h3>4. Summary</h3>
<table width="100%" border="1" cellpadding="5">
  <tr> 
    <td colspan="2" bgcolor="#000099"><b><font color="#FFFFFF" size="+1">XML Transformation 
      Tags</font></b></td>
  </tr>
  <tr bgcolor="#FFFF66"> 
    <td width="39%"><b>Element</b></td>
    <td width="61%"><b>Sample usage</b></td>
  </tr>
  <tr> 
    <td width="39%" height="123"> 
      <p><code><b>&lt;transform&gt;<br>
        </b><font color="#000000">source xslt </font><font color="#000000">transformer</font> 
        <font color="#000000">result</font> <font color="#000000"></font>var <br>
        <b></b><font color="#0000FF"> </font></code></p>
      <p>Applies a transformation to an XML document given a specific XSLT stylesheet 
        or a transformer object.</p>
    </td>
    <td width="61%" height="123"> 
      <pre>&lt;c:import url=&quot;/xml/employees.xml&quot; var=&quot;xml&quot;/>
&lt;c:import url=&quot;/xslt/customerList.xsl&quot; var=&quot;xslt&quot;/><br>&lt;x:xslt source=&quot;$xml&quot; xslt=&quot;$xslt&quot;/&gt;</pre>
      </td>
  </tr>
  <tr> 
    <td width="39%"> 
      <p><code><b>&lt;param&gt;</b><br>
        <font color="#000000"><b>name</b> value </font></code></p>
      <p>Sub-element to specify request parameters for the enclosing &lt;transform&gt;.</p>
    </td>
    <td width="61%">
      <pre>

&lt;x:transform source=&quot;$xml&quot; xslt=&quot;$xslt&quot;&gt;<br>  &lt;x:param name=&quot;foo&quot; value=&quot;foo-value&quot;/&gt;<br>&lt;/x:transform&gt;</pre>
      <p>&nbsp;</p>
    </td>
  </tr>
  <tr> 
    <td width="39%"> 
      <p><code><b>&lt;transformer&gt;</b><br>
        <font color="#000000">xslt <b>var</b></font></code></p>
      <p>Creates a &quot;transformer&quot; object for more efficient transformations 
        that use the same XSLT stylesheet.</p>
    </td>
    <td width="61%"> 
      <pre>&lt;c:import url=&quot;/xslt/style.xsl&quot; var=&quot;xslt&quot;/&gt;<br>&lt;x:transformer xslt=&quot;$xslt&quot; var=&quot;transformer&quot;/&gt;<br>...<br>&lt;x:transform source=&quot;$xml&quot; transformer=&quot;$transformer&quot; /&gt;
...
&lt;x:transform source=&quot;$xml2&quot; transformer=&quot;$transformer&quot; /&gt;</pre>
    </td>
  </tr>
</table>
<h3>&nbsp;</h3>
</body>
</html>
