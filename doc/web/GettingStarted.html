<html>
<head>
<title>JSTL: Getting Started</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF">
<h1>Getting started with JSTL (EA2)</h1>

<p>This document describes how to get up and running quickly with JSTL's
second early-access release.  It can be useful to page authors and tag
developers who are interested in JSTL's functionality.  Using the
"jstl-examples" application is also a great way to familiarize yourself
with JSTL's functionality and use.</p>

<p><b>IMPORTANT:</b> This release of JSTL is an early-access release and
does not represent a standard of any kind.  The API and implementation are
subject to change in the future. The major purpose of this release is to
provide early information to the community of JSP developers about the
direction and scope of JSTL.  Community feedback is actively sought; if
you have any comments, please email us at
<a href="mailto:jsr052-comments@sun.com">jsr052-comments@sun.com</a>.

<hr />
<h2>Introduction</h2>

<a name="#1.1" />
<h3>What is JSTL?  Where does it come from?</h3>

<p>JSTL is the JSP(tm) Standard Tag Library.  It is an effort of the Java
Community Process (JCP) and comes out of the JSR-052 expert group.</p>

<a name="#1.2" />
<h3>What does JSTL do?</h3>

<p>JSTL encapsulates, as simple tags, core functionality common to many
JSP applications.  For example, instead of suggesting that you iterate
over lists using a scriptlet or different iteration tags from
numerous vendors, JSTL defines a standard &lt;forEach&gt; tag that works
the same everywhere.</p>

<p>This standardization lets you learn a single tag and use it on multiple
JSP containers.  Also, when tags are standard, containers can recognize
them and optimize their implementations.</p>

<p>The current early-access release of JSTL has support for core iteration
and control-flow features, text inclusion, internationalizaton-capable
formatting tags, and XML-manipulation tags.  It also supports an
<i>expression language</i> to simplify page development, and it includes
an experimental version of several such languages for testing purposes.  
Developers may also be interested in JSTL's current extensibility
mechanisms; JSTL currently provides a framework for integrating custom
tags with JSTL tags.</p>

<h3>What does "early access" mean?</h3>

<p>As we noted above, <b>this release of JSTL is not an official release;
it does not represent a final standard of any kind</b>.  Basing production
systems on the APIs and implementations offered here is not advised.  The
good news is that you still have time to comment on JSTL before it is
finalized:  mail us at <a href="mailto:jsr052-comments@sun.com">
jsr052-comments@sun.com</a> if you have any comments.</p>

<h3>What has changed since EA1?</h3>
<p>Please see the <a href="ReleaseNotes.html">Release Notes</a> document
for information on JSTL RI changes.</p>

<hr />
<h2><a name="#2" />Getting started quickly</h2>

<p>JSTL EA2 uses features provided only by the JSP 1.2 standard draft, so
it requires a JSP 1.2 container.  We recommend you test JSTL with Tomcat
4.0.</p>

<p>To install Tomcat, follow the instructions at <a
href="http://jakarta.apache.org/tomcat">http://jakarta.apache.org/tomcat</a>.
To install the JSTL libraries for use in a web application, follow the
instructions at <a
href="http://jakarta.apache.org/taglibs/binarydist.html">
http://jakarta.apache.org/taglibs/binarydist.html</a>.  You can also use
the "jstl-examples" application as a guide.</p>

<!--
<p>If your web application does not already use an XML parser, you will
need to make one available because current versions of Tomcat do not. See
the Tomcat 4 release notes (RELEASE-NOTES-4.0-B7.txt in the top level
directory of your Tomcat distribution) for more information about XML
parsers in Tomcat 4.</p>
-->

<h3>Multiple tag libraries</h3>

<p>See the <a href="Overview.html">Overview Document</a> for information
on JSTL's constituent tag libraries.  That document lists JSTL's
current TLD URIs and recommended taglib prefixes.</p>

<p>Using the JSTL libraries is simple; you simply need to import them into
your JSP pages using the <b>taglib</b> directive.  For instance, to import
the core JSTL library into your page, you would include the following line
at the top of your JSP page, as follows:</p>

<pre>
    &lt;%@ taglib uri="http://java.sun.com/jstl/ea/core" prefix="c" %&gt;
</pre>

<h3>Expression languages</h3>

<p>Half of JSTL's tag libraries -- the recommended ones -- rely on an 
expression language.  To facilitate experimentation and feedback, the
JSTL RI currently lets you switch between a number of different languages.
For EA2, the ECMAScript language is the default.</p>

<p>The  expression language for a web application is configured by
setting the servlet context parameter
<tt>javax.servlet.jsp.jstl.temp.ExpressionEvaluatorClass</tt> to the class
containing the expression-evaluation logic you wish to use. In
<tt>jstl.jar</tt>, the SPEL is identified by the class
<tt>org.apache.taglibs.standard.lang.spel.Evaluator</tt>; JPath is identified
by the class
<tt>org.apache.taglibs.standard.lang.jpath.JPathExpressionEvaluator</tt>;
JXPath's evaluator is
<tt>org.apache.taglibs.standard.lang.jxpath.JXPathExpressionEvaluator</tt>;
and the JavaScript/Rhino evaluator is
<tt>org.apache.taglibs.standard.lang.javascript.javascript.JavascriptExpressionEvaluator</tt>.
(For an example of how this context parameter is set, see the
<tt>web.xml</tt> file that comes with the <tt>jstl-examples</tt>
application.)</p>

<p>In JSTL EA2, you can also mix different expression languages on the
same page using the <tt>&lt;expressionLanguage&gt;</tt> tag.  This tag's
<tt>evaluator</tt> attribute points to the class containing the
expression-evaluation logic you wish to use.  See the Functional
Description of expression-language support for more information.</p>

<p>The attributes in tags for the EL version of the library do not accept
rtexprvalues.  Instead, you specify literal expressions that the tags
evaluate at runtime.  For example:</p>

<pre>
    &lt;jx:forEach items="<b>$page:myItems</b>" /&gt;
</pre>

<i><b>Important:</b> The expression-language support included with JSTL
JSTL EA2 should be considered even more experimental than the rest of the
package.  You should not assume that either the "pluggability" mechanism
or the prepackaged languages themselves will remain in JSTL's final
version, or even in the next EA releases.</i>

<h3>Topics covered in JSTL EA2</h3>

<p>As we mentioned above, JSTL EA2 includes core tags to support
iteration, conditionals, and expression-language support.  For more
information on precisely how these tags work, you should read the
"Functional Description" documents provided as part of this distribution.  
Here, we just offer a quick roadmap of each feature in order to help
orient you.</p>

<dl>
<dt><b>Iteration</b></dt>

<dd>The core iteration tag is &lt;forEach&gt;, which iterates over most
collections and similar objects you'd think to iterate over.  
&lt;forTokens&gt; lets you iterate over tokens in a <tt>String</tt>
object; it lets you specify the <tt>String</tt> and the delimiters.</dd>

<dt><b>Conditionals</b></dt>

<dd>JSTL EA2 supports a simple conditional &lt;if&gt; tag along with
a collection of tags -- &lt;choose&gt;, &lt;when&gt;, and &lt;otherwise&gt;
-- that support mutually exclusive conditionals.  These latter three
tags let you implement a typical <tt>if/else if/else if/else</tt>
structure.</dd>

<dt>
<b>Expression languages</b></dt>

<dd>We described the EL support in JSTL EA2 above.  In addition to
&lt;expressionLanguage&gt;, JSTL EA2 provides a few other tags to
facilitate use of expression language.  &lt;expr&gt; prints out the value
of a particular expression in the current EL, similar to the way that the
scriptlet expression (&lt;%= ... %=&gt;) syntax prints out the value of a
expression in the scripting language (typically Java).  &lt;set&gt; lets
you set a scoped attribute (e.g., a value in the request, page, session,
or application scopes) with the value of an expression.</dd>

<dt>
<b>Text inclusion</b></dt>

<dd>JSP supports the <tt>jsp:include</tt> tag, but this standard action is
limited in that it only supports relative URLs.  JSTL EA2 introduces the
<tt>c:import</tt> tag, which lets you retrieve absolute URLs.  For
instance, you can use <tt>c:import</tt> to retrieve information from the
web using HTTP URLs, or from a file server using an FTP URL.  The tag also
has some advanced support for performance optimizations, avoiding
unnecessary buffering of data that's retrieved.</dd>

<dt>
<b>I18N-capable text formatting</b></dt>

<dd>Formatting data is one of the key tasks in many JSP pages.  JSTL
introduces tags to support data formatting and parsing.  These tags
rely on convenient machinery to support internationalized applications.
</dd>

<dt>
<b>XML manipulation</b></dt>

<dd>You can't look anywhere these days without seeing XML, and JSTL
gives you convenient support for manipulating it from your JSP pages.
Parse documents, use XPath to select content, and perform XSLT transformations
from within your JSP pages.</dd>

</dl>

<h3>For tag developers...</h3>

<p>Developers of custom tags should also read the "Functional
Descriptions" provided for each topic addressed by JSTL EA2.  JSTL EA2
provides some abstract classes that assist with rapid development of tags
and promote integration of custom tags with JSTL's tag set.</p>

<p>For instance, custom tags can use JSTL's expression-language
mechanism.  As another example, extending
<tt>javax.servlet.jsp.jstl.core.ConditionalTagSupport</tt> lets you write a
conditional tag by merely implementing a single method that returns a
<tt>boolean</tt> value correspondent with your tag's desired conditional
behavior; also, this base class promotes JSTL's recommended model of
conditional-tag design.</p>

<p>Similarly, <tt>javax.servlet.jsp.jstl.core.IteratorTagSupport</tt> lets
you easily implement iteration tags.  The handlers for the &lt;forEach&gt;
and &lt;forTokens&gt; tags extend this class and thus implement the
<tt>javax.servlet.jsp.jstl.core.IteratorTag</tt> interface, which provides
a well-defined mechanism for iteration tags to communicate with custom
subtags you can write.  See the "jstl-examples" application for one
example of how you might use such custom subtags.</p>

</body>
</html>
